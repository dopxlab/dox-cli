export DOX_DIR="$HOME/.dox"
export DOX_USER_BIN="${DOX_DIR}/bin"
export DOX_RESOURCES_DIR="${DOX_RESOURCES_DIR:-$HOME/dox_resources}"
export PATH="${DOX_USER_BIN}:$PATH"

# DOX wrapper function that auto-loads environment after configure
dox() {
  # Define the env file path
  local DOX_ENV="${PWD}/dox_env"
  
  # Run the actual dox-bin command
  command "${DOX_USER_BIN}/dox-bin" "$@"
  local exit_code=$?
  
  # If successful and env file exists, source it
  if [[ $exit_code -eq 0 && -f "$DOX_ENV" ]]; then
    source "$DOX_ENV"
    echo "âœ“ Environment variables loaded into current shell"
  fi
  
  return $exit_code
}