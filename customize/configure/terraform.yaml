installation:
  download:
    template: "https://releases.hashicorp.com/terraform/{version}/terraform_{version}_{os}_{arch}.zip"
    mappings:
      os:
        linux: "linux"
        mac: "darwin"
      arch:
        x86_64: "amd64"
        aarch64: "arm64"

configuration:
  # Get latest terraform version dynamically
  default_version: "${TERRAFORM_VERSION:-$(curl -s https://api.github.com/repos/hashicorp/terraform/releases/latest | jq -r '.tag_name' | sed 's/^v//')}"

  environments:
    TERRAFORM_HOME: "${install_dir}"
    PATH: "${install_dir}"

  post_configuration_script: |
    info "✓ TERRAFORM_HOME: ${install_dir}"
    info "✓ Terraform version: $(terraform version | head -n 1)"
